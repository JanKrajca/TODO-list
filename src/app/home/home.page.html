<ion-header>
  <ion-toolbar color="primary">
    <ion-title>TODO App</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <!-- VSTUP PRO NOV√ù √öKOL -->
  <div style="background: white; padding: 10px; border-radius: 10px; margin-bottom: 20px;">
    <div style="display: flex;">
      <input
        type="text"
        [(ngModel)]="newTodoTitle"
        (keyup.enter)="addTodo()"
        placeholder="Napi≈° √∫kol..."
        style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 5px; margin-right: 10px; color: black;">

      <button
        (click)="addTodo()"
        [disabled]="!newTodoTitle.trim()"
        style="background: #3880ff; color: white; border: none; border-radius: 5px; padding: 0 20px; font-size: 20px;">
        +
      </button>
    </div>
  </div>

  <!-- SEZNAM √öKOL≈Æ -->
  <div *ngIf="todos.length > 0">
    <div *ngFor="let todo of todos"
         style="background: white; padding: 15px; border-radius: 10px; margin-bottom: 10px; display: flex; align-items: center;">

      <!-- CHECKBOX -->
      <input
        type="checkbox"
        [checked]="todo.completed"
        (change)="toggleTodo(todo)"
        style="margin-right: 15px; width: 20px; height: 20px;">

      <!-- TEXT -->
      <span
        [style.text-decoration]="todo.completed ? 'line-through' : 'none'"
        [style.color]="todo.completed ? '#888' : 'black'"
        style="flex: 1; font-size: 16px;">
        {{ todo.title }}
      </span>

      <!-- TLAƒå√çTKA -->
      <div style="display: flex; gap: 10px;">
        <!-- EDIT -->
        <button
          (click)="editTodo(todo)"
          style="background: orange; color: white; border: none; border-radius: 5px; padding: 5px 10px; font-size: 14px;">
          Edit
        </button>

        <!-- DELETE -->
        <button
          (click)="deleteTodo(todo.id)"
          style="background: red; color: white; border: none; border-radius: 5px; padding: 5px 10px; font-size: 14px;">
          Smazat
        </button>
      </div>
    </div>
  </div>

  <!-- STATISTIKY -->
  <div *ngIf="todos.length > 0"
       style="background: white; padding: 15px; border-radius: 10px; margin-top: 20px;">
    <p style="color: black; margin-bottom: 15px;">
      Celkem: {{ todos.length }} √∫kol≈Ø |
      Hotovo: {{ getCompletedCount() }}
    </p>

    <button
      *ngIf="getCompletedCount() > 0"
      (click)="clearCompleted()"
      style="width: 100%; background: #ff6b6b; color: white; border: none; border-radius: 5px; padding: 10px; font-size: 16px;">
      Smazat hotov√© √∫koly
    </button>
  </div>

  <!-- PR√ÅZDN√ù STAV -->
  <div *ngIf="todos.length === 0"
       style="text-align: center; margin-top: 50px; color: #666;">
    <div style="font-size: 60px; margin-bottom: 20px;">üìù</div>
    <h3 style="color: black;">≈Ω√°dn√© √∫koly</h3>
    <p>Zaƒçnƒõte p≈ôid√°n√≠m prvn√≠ho √∫kolu!</p>
  </div>

</ion-content>
